<p-card class="p-0 w-full">
    <div class="flex flex-row pb-3 gap-3 mb-3" [formGroup]="articleForm">
        <div class="flex align-items-center w-13rem">
            <label class="text-900 font-medium pl-2"
                   for="articleUrl">{{'StudyManagement.LinkedArticle.URL' | translate}}</label>
            <app-tooltip class="ml-2" message="StudyManagement.LinkedArticleTooltip"></app-tooltip>
        </div>
        <div class="text-900 flex align-items-center w-full">
            <input type="text"
                   id="articleUrl"
                   pInputText
                   placeholder="{{'StudyManagement.LinkedArticle.URL' | translate}}"
                   formControlName="articleUrl"
                   class="form-control w-full"
                   [disabled]="viewMode">
        </div>
        <div class="flex align-items-center">
            <button pButton pRipple
                    type="button"
                    label="{{'Add' | translate}}"
                    [disabled]="!articleForm.valid || viewMode"
                    class="p-button-raised"
                    (click)="addArticle()"></button>
        </div>
    </div>

    <div *ngIf="articleList.length" class="flex flex-column border-1 border-300 border-round px-3">
        <div *ngFor="let article of articleList" class="flex h-4rem border-300 border-top-1 qrow">
            <div class="flex align-items-center w-full">
                {{article.articleUrl}}
            </div>
            <div class="flex align-items-center justify-content-end w-4rem">
                <i class="pi pi-trash"
                   [ngClass]="{ 'text-primary cursor-pointer': !viewMode, 'text-secondary opacity-40': viewMode }"
                   (click)="!viewMode && deleteArticle(article.articleUrl)">
                </i>
            </div>
        </div>
    </div>

    <div *ngIf="!articleList.length" class="flex justify-content-center border-1 border-300 border-round p-6">
        {{'StudyManagement.LinkedArticle.Please add article url' | translate }}
    </div>

    <div class="flex justify-content-between flex-wrap mt-4">
        <div class="justify-content-start">
            <button pButton pRipple
                    type="button"
                    label="{{'Back' | translate}}"
                    class="p-button-raised"
                    (click)="back()"></button>
        </div>
        <div class="justify-content-end">
            <button pButton pRipple
                    [disabled]="viewMode"
                    type="button"
                    label="{{'Save' | translate}}"
                    class="p-button-raised"
                    (click)="save()"></button>
        </div>
    </div>
</p-card>
